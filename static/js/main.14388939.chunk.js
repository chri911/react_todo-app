(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n(17)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(8),l=n.n(o),r=(n(14),n(15),n(16),n(1)),i=n(6),u=n(2),s=c.a.createContext({todos:[],visibleTodos:[],setTodo:function(){}}),m=n(3),d=n.n(m),f=function(e){var t,n=e.todo,o=Object(a.useContext)(s),l=(o.visibleTodos,o.todos),i=o.setTodo,m=Object(a.useState)(!1),f=Object(u.a)(m,2),p=f[0],b=f[1],E=Object(a.useState)(n.title),O=Object(u.a)(E,2),j=O[0],v=O[1],g=function(){var e=Object(a.useRef)(null);return[e,function(){e.current&&e.current.focus()}]}(),h=Object(u.a)(g,2),N=h[0],C=h[1];return t=C,Object(a.useEffect)(t,[p]),c.a.createElement("li",{key:n.id,className:d()({completed:n.completed,editing:p}),onDoubleClick:function(){b(!0)}},c.a.createElement("div",{className:"view"},c.a.createElement("input",{type:"checkbox",className:"toggle",checked:n.completed,onChange:function(){i(l.map((function(e){return e.id===n.id?Object(r.a)(Object(r.a)({},e),{},{completed:!e.completed}):e})))}}),c.a.createElement("label",null,n.title),c.a.createElement("button",{type:"button",className:"destroy",onClick:function(){i(l.filter((function(e){return e.id!==n.id})))}})),c.a.createElement("input",{type:"text",className:"edit",onChange:function(e){return v(e.target.value)},value:j,autoFocus:!0,ref:N,onBlur:function(){""!==j?(i(l.map((function(e){return e.id===n.id?Object(r.a)(Object(r.a)({},e),{},{title:j}):e}))),b(!1)):(i(l.filter((function(e){return e.id!==n.id}))),b(!1)),b(!1)},onKeyDown:function(e){"Enter"===e.key&&(""!==j?(i(l.map((function(e){return e.id===n.id?Object(r.a)(Object(r.a)({},e),{},{title:j}):e}))),b(!1)):(i(l.filter((function(e){return e.id!==n.id}))),b(!1))),"Escape"===e.key&&(v(n.title),b(!1))}}))},p=function(){var e=Object(a.useContext)(s),t=e.todos;e.visibleTodos;return console.log(t),c.a.createElement("ul",{className:"todo-list"},t.map((function(e){return c.a.createElement(f,{todo:e})})))},b=function(){var e=Object(a.useContext)(s),t=(e.todos,e.visibleTodos,e.setTodo),n=Object(a.useState)("All"),o=Object(u.a)(n,2),l=o[0],r=o[1];Object(a.useEffect)((function(){[{title:1}]}),[]);var i=Object(a.useMemo)((function(){return JSON.parse(localStorage.getItem("todos"))}),[]),m=function(e){var n,a=e.target.innerText;switch(r(a),console.log(i),a){case"All":n=i;break;case"Active":n=i.filter((function(e){return!e.completed}));break;case"Completed":n=i.filter((function(e){return e.completed}))}t(n)};return c.a.createElement("ul",{className:"filters"},c.a.createElement("li",null,c.a.createElement("a",{href:"#/",className:d()({selected:"All"===l}),onClick:m},"All")),c.a.createElement("li",null,c.a.createElement("a",{href:"#/active",className:d()({selected:"Active"===l}),onClick:m},"Active")),c.a.createElement("li",null,c.a.createElement("a",{href:"#/completed",className:d()({selected:"Completed"===l}),onClick:m},"Completed")))};var E=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],o=t[1],l=Object(a.useContext)(s).visibleTodos,m=function(e,t){var n=Object(a.useState)((function(){try{return JSON.parse(localStorage.getItem(e))||t}catch(n){return t}})),c=Object(u.a)(n,2),o=c[0],l=c[1];return[o,function(t){l(t),localStorage.setItem(e,JSON.stringify(t))}]}("todos",[]),d=Object(u.a)(m,2),f=d[0],E=d[1],O={todos:f,visibleTodos:l,setTodo:E};return c.a.createElement(s.Provider,{value:O},c.a.createElement("section",{className:"todoapp"},c.a.createElement("header",{className:"header"},c.a.createElement("h1",null,"todos"),c.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={id:+new Date,title:n,completed:!1};""!==n&&(E([].concat(Object(i.a)(f),[t])),localStorage.setItem("todos",JSON.stringify([].concat(Object(i.a)(f),[t]))),o(""))}},c.a.createElement("input",{type:"text",className:"new-todo",placeholder:"What needs to be done?",value:n,onChange:function(e){o(e.target.value)}}))),f.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("section",{className:"main"},c.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",checked:f.every((function(e){return e.completed})),onChange:function(){f.every((function(e){return e.completed}))?E(f.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{completed:!1})}))):E(f.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{completed:!0})})))}}),c.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),c.a.createElement(p,{items:f})),c.a.createElement("footer",{className:"footer"},c.a.createElement("span",{className:"todo-count"},"".concat(f.filter((function(e){return!e.completed})).length," items left")),c.a.createElement(b,null),f.some((function(e){return e.completed}))&&c.a.createElement("button",{type:"button",className:"clear-completed",onClick:function(){E(f.filter((function(e){return!e.completed})))}},"Clear completed")))))};l.a.render(c.a.createElement(E,null),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.14388939.chunk.js.map